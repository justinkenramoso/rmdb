{{> nav}}

<!--Main-->
<main id="characters">
    <div id="char-header" class="d-flex flex-column justify-content-center align-items-center">
        <h2>Characters</h2>
        <div id="char-nav">
            <form action="/characters/filter" method="GET" class="mt-2">
                <h4 class="text-center">Filters 
                    <a href="/characters/all">Reset <i class="bi bi-arrow-clockwise"></i></a> 
                    <a href="/characters/random">Random <i class="bi bi-shuffle"></i></a>
                </h4>
                <div class="row g-2 filters">
                    <div class="col-6">
                        <input class="form-control fw-bold" type="text" name="name" id="name" placeholder="Name">
                    </div>
                    <div class="col-6">
                        <select class="form-select fw-bold" name="status" id="status">
                        <option value="none">Status</option>
                        <option value="alive">Alive</option>
                        <option value="dead">Dead</option>
                        <option value="unknown">Unknown</option>
                    </select>
                    </div>
                    <div class="col-6">
                        <select class="form-select fw-bold" name="species" id="species">
                        <option value="none">Species</option>
                        <option value="human">Human</option>
                        <option value="humanoid">Humanoid</option>
                        <option value="animal">Animal</option>
                        <option value="alien">Alien</option>
                        <option value="robot">Robot</option>
                        <option value="mythological creature">Mythological Creature</option>
                        <option value="cronenberg">Cronenberg</option>
                        <option value="disease">Disease</option>
                        <option value="unknown">Unknown</option>
                    </select>
                    </div>
                    <div class="col-6">
                        <select class="form-select fw-bold" name="gender" id="gender">
                        <option value="none">Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="genderless">Genderless</option>
                        <option value="unknown">Unknown</option>
                    </select>
                    </div>
                    <div class="col-12 d-flex justify-content-end">
                        <button class="submit-filters" type="submit">Submit Filters</button>
                    </div>
                </div>
                <br>
                <div class="text-center">
                {{#if response.results}}
                <h5>Found <span class="result-count">{{response.info.count}}</span> result(s)</h5>
                    <h5>
                        {{#if response.info.prev}}
                            <a class="btn btn-light page-btn" onclick="movePage(this)" data-url="{{response.info.prev}}"><i class="bi bi-caret-left-fill"></i> Previous Page</a>
                        {{/if}}
                        {{#if response.info.next}}
                            <a class="btn btn-light page-btn" onclick="movePage(this)" data-url="{{response.info.next}}">Next Page <i class="bi bi-caret-right-fill"></i></a>
                        {{/if}}
                    </h5>
                {{/if}}
                {{#unless response.results}}
                    {{#unless response.error}}
                        <h5>Here are <span class="result-count">{{response.length}}</span> random characters.</h5>
                    {{/unless}}
                    {{#if response.error}}
                        <h5>There's <span class="result-count">nothing</span> in here.</h5>
                        <div class="d-flex justify-content-center">
                            <img src="/img/nothing.png" style="width: 200px">
                        </div>
                    {{/if}}
                 {{/unless}}
                 </div>
            </form>
        </div>
    </div>
    <div id="char-grid" class="row row-cols-1 row-cols-sm-2 row-cols-md-1 row-cols-lg-2 py-3 px-1 px-sm-5">
        {{#if response.results}}
            {{#each response.results}}
            {{> character-grid}}
            {{/each}}
        {{/if}}
        {{#unless response.results}}
            {{#unless response.error}}
                {{#each response}}
                {{> character-grid}}
                {{/each}}
            {{/unless}}
        {{/unless}}
    </div>
    <div class="text-center text-white">
                {{#if response.results}}
                <h5>Found <span class="result-count">{{response.info.count}}</span> result(s)</h5>
                    <h5 class="m-0 pb-5">
                        {{#if response.info.prev}}
                            <a class="btn btn-light page-btn" onclick="movePage(this)" data-url="{{response.info.prev}}">Previous Page</a>
                        {{/if}}
                        {{#if response.info.next}}
                            <a class="btn btn-light page-btn" onclick="movePage(this)" data-url="{{response.info.next}}">Next Page <i class="bi bi-arrow-right-circle-fill"></i></a>
                        {{/if}}
                    </h5>
                {{/if}}
                {{#unless response.results}}
                    {{#unless response.error}}
                        <h5 class="m-0 pb-5">Here are <span class="result-count">{{response.length}}</span> random characters.</h5>
                    {{/unless}}
                 {{/unless}}
            </div>
</main>

{{> footer}}